<mat-card class="recipe-card">
  <mat-card-header>
    @if (recipe()?.imageName && recipe()?.imageName !== '') {
      <img
        [src]="'api/recipes/' + recipe()?.id + '/image/' + recipe()?.imageName"
        alt=""
        class="recipe-card__image"
      />
    } @else {
      <img src="assets/no-image.jpg" alt="" class="recipe-card__image" />
    }
    <div class="recipe-card__header-container">
      <div class="recipe-card__controls">
        <button
          mat-mini-fab
          [matMenuTriggerFor]="menu"
          aria-label="icon button which opens the menu"
          color="primary"
        >
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="openEditDialog()">
            <mat-icon>edit</mat-icon>
            <span>Edit</span>
          </button>
          <button mat-menu-item>
            <mat-icon>image</mat-icon>
            <span>Change image</span>
          </button>
          <button mat-menu-item (click)="openDeleteConfirmationDialog()">
            <mat-icon>delete</mat-icon>
            <span>Delete</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </mat-card-header>
  <mat-card-content>
    <h1>{{ recipe()?.recipeName }}</h1>
    <hoa-recipes-ui-recipes-preparation-time
      [preparationTime]="recipe()?.preparationTime"
      [formatted]="true"
    />
    <h3 class="recipe-card__ingredient-title">Ingredients</h3>
    <mat-list role="list" class="list">
      @for (ingredient of recipe()?.ingredients; track ingredient) {
        <mat-list-item role="listitem">
          <span class="title" matListItemTitle
            >{{ ingredient.ingredientName }}
          </span>
          <span matListItemLine>{{ ingredient.ingredientQuantity }}</span>
        </mat-list-item>
      }
    </mat-list>
  </mat-card-content>
</mat-card>
